<!DOCTYPE html>
<html lang="en">
  <head>
    <?php
      include 'HTMLheader.html';
    ?>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <style>
      li.watchlist{
        margin-top: 30px;
        margin-bottom: 30px;
      }
      
    </style>
    <script type="text/javascript">
      function bid(){
          document.getElementById("update").innerHTML = "Starting price";
      }
      function direct(){
          document.getElementById("update").innerHTML = "Price";
      }
    </script>

    <script type="text/javascript">
      function quantity(){
        var x = document.getElementById("quantity").innerHTML;
        document.getElementById("form1").innerHTML = x;
      }
      function expDate(){
        var x = document.getElementById("expDate").innerHTML;
        document.getElementById("form1").innerHTML = x;
      }
    </script>

  </head>

  <body>

   <?php
   if($type==1){
        include 'admin_menu.html';  
      }            
      else if($type==2){
        include 'buyer_menu.html';  
      }
      else if($type==3){
        include 'seller_menu.html'; 
      }
     ?> 


    <div id="myheaderwrap">
      <div class="container">
        <div class="row centered">
            <h2>Want it that much ? Then <b>PAY</b> more. <b>-DumboBay-</b></h2> 
        </div><!-- row -->
      </div><!-- container -->
    </div><!-- headerwrap -->

    <div>
      <div class="container">
        <div>

          <div class="container w">
            <div class="container">
              <div class="row centered">
                <h1>Products</h1>
              </div><!-- row -->
            </div><!-- container -->
          </div>
          <div class="row col-md-10 col-md-offset-1">
            <?php echo validation_errors(); ?>
            <?php echo $this->session->flashdata("message"); ?>
            <?php echo form_open_multipart("product_c/newProduct"," class='form-horizontal' id='newProduct-form' name='newProduct-form' onsubmit='return validateForm()'");?>
              <fieldset>
                <legend></legend>
                <div class="form-group">
                  <label for="inputName" class="col-md-2 control-label">Product name</label>
                  <div class="col-md-10">
                    <input type="text" class="form-control" id="Name" name="Name" placeholder="Product name">
                  </div>
                </div>

                <div class="form-group">
                  <label id="image" class="col-md-2 control-label">Product image</label>
                  <div class="col-md-10">
                    <input type="file" class="form-control" name = "Image" id="Image">
                  </div>
                </div>

                <div class="form-group">
                  <label for="inputProperty" class="col-md-2 control-label">Product property</label>
                  <div class="col-md-10">
                    
                    <textarea class="form-control" rows="3" id="Property" placeholder="Product property"></textarea>
                    
                  </div>
                </div>

                <div class="form-group">
                  <label for="condition" class="col-md-2 control-label">Product condition</label>
                  <div class="col-md-10">
                    <textarea class="form-control" rows="3" id="Quality" placeholder="Product condition"></textarea>
                    
                  </div>
                </div>

                <div class="form-group">
                  <label class="col-md-2 control-label">Sale method</label>
                  <div class="col-md-10">
                    <div class="radio">
                      <label>
                        <input type="radio" id="type" name="type" value=2 checked="" onclick="bid();expDate();">
                        Bidding sale
                      </label>
                    </div>
                    <div class="radio">
                      <label>
                        <input type="radio" id="type" name="type"value=1 onclick="direct();quantity();">
                        Direct sale
                      </label>
                    </div>
                  </div>
                  
                </div>

                <div class="form-group" id="form1">
                  <label for="End_Date" class="col-md-2 control-label">Expiration Date</label>
                  <div class="col-md-10">
                    <input type="text" id="End_Date" name = "End_Date" class="form-control" placeholder="Exp date">
                    
                  </div>
                </div>


                <div class="form-group" id="expDate">
                  <label for="End_Date" class="col-md-2 control-label">Expiration Date</label>
                  <div class="col-md-10">
                    <input type="text" id="End_Date" name = "End_Date" class="form-control" placeholder="Exp date">
                    
                  </div>
                </div>

                <div class="form-group" id="quantity">
                  <label for="inputQuantity" class="col-md-2 control-label">Quantity</label>
                  <div class="col-md-10">
                    <input type="text" class="form-control" id="Quantity" name ="Quantity" placeholder="Quantity">
                  </div>
                </div>

                <div class="form-group">
                  <label id="update" class="col-md-2 control-label">Starting price</label>
                  <div class="col-md-10">
                    <input type="text" class="form-control" id="Price" name="Price" placeholder="Price">
                  </div>
                </div>

                <div class="form-group">
                  <label for="package" class="col-md-2 control-label">Product packaging</label>
                  <div class="col-md-10">
                    <textarea class="form-control" rows="3" id="Packaging" placeholder="Product packaging"></textarea>
                    
                  </div>
                </div>

                <div class="form-group">
                  <label for="Delivery_Fee" class="col-md-2 control-label">Shipping fee</label>
                  <div class="col-md-10">
                    <input type="text" class="form-control" id="Delivery_Fee" placeholder="Shipping fee">
                  </div>
                </div>
                <div class="form-group">
                  <label for="Delivery_Comfirmation" class="col-md-2 control-label">Shipping comfirmation</label>
                  <div class="col-md-10" style="padding-top:10px">
                    <input type="text" class="form-control" id="Delivery_Confirmation" placeholder="Shipping comfirmation">
                  </div>
                </div>
                
                <div class="form-group">
                  <label for="Refund_Product" class="col-md-2 control-label">Refund policy</label>
                  <div class="col-md-10">
                    <textarea class="form-control" rows="3" id="Refund_Product" placeholder="Refund policy"></textarea>
                    
                  </div>
                </div>

                <div class="form-group">
                  <label for="fee" class="col-md-2 control-label">Other fee</label>
                  <div class="col-md-10">
                    <textarea class="form-control" rows="3" id="Tax" placeholder="Other fee"></textarea>
                    
                  </div>
                </div>
                
                <div class="form-group">
                  <div class="col-md-10 col-md-offset-2">
                    <button type="submit" class="btn btn-success">Submit</button>
                    <button class="btn btn-default">Cancel</button>
                    
                  </div>
                </div>
              </fieldset>
            </form>
          </div>
        </div>
      </div>
    </div>
    <?php
  if($this->session->flashdata('message')) echo '
    <script>
      alert("'.$this->session->flashdata('message').'");
    </script>
    ';
?>
    <?php
  if(validation_errors()) echo '
    <script>
      alert("'.validation_errors().'");
    </script>
    ';
?>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
  <script src=<?php echo base_url("assets/js/validation_function.js");?> ></script>
  <!--  The form that will be parsed by jQuery before submit  -->
  <script>

    function validateForm() {
      
      var productName = document.forms["newProduct-form"]["Name"].value;

      var prodiuctProperty = document.forms["newProduct-form"]["Property"].value;

      var productQuality = document.forms["newProduct-form"]["Quality"].value;

      var enddate = document.forms["newProduct-form"]["End_Date"].value;

      var quantity = document.forms["newProduct-form"]["Quantity"].value;

      var price = document.forms["newProduct-form"]["Price"].value;

      var packaging = document.forms["newProduct-form"]["Packaging"].value;

      var deliveryFee = document.forms["newProduct-form"]["Delivery_Fee"].value;

      var deliveryConfirmation = document.forms["newProduct-form"]["Delivery_Confirmation"].value;

      var refundProduct = document.forms["newProduct-form"]["Refund_Product"].value;

      var tax = document.forms["newProduct-form"]["Tax"].value;

      var message ="";

      if (!validateProductName(productName)) {
        alert("Product name is too long. Product name cannot exceed 30 characters");
        return false;
      }

      if (!validateProductDetail(prodiuctProperty)) {
        alert("Product property is too long. Product name cannot exceed 250 characters");
        return false;
      }

      if (!validateProductDetail(productQuality)) {
        alert("Product condition is too long. Product name cannot exceed 250 characters");
        return false;
      }

      if (!validateExpiredDate(enddate)) {
        alert("Your Date is invalid.");
        return false;
      }

      if (!validateDigit(quantity)) {
        alert("Your quantity is invalid.");
        return false;
      }

      if (!validateDigit(price)) {
        alert("Your price is invalid.");
        return false;
      }

      if (!validateProductDetail(packaging)) {
        alert("Your packaging detail is too long. Product name cannot exceed 250 characters");
        return false;
      }

      if (!validateDigit(deliveryFee)) {
        alert("Your delivery fee is invalid.");
        return false;
      }

      if (!validateProductDetail(deliveryConfirmation)) {
        alert("Your delivery confirmation detail is too long. Product name cannot exceed 250 characters");
        return false;
      }

      if (!validateProductDetail(refundProduct)) {
        alert("Your refund policy is too long. Product name cannot exceed 250 characters");
        return false;
      }

      if (!validateProductDetail(tax)) {
        alert("Your other fee detail is too long. Product name cannot exceed 250 characters");
        return false;
      }
      
    }

  </script>
  
     <script>
    $(document).ready(function(){
      $("#expDate").hide();
      $("#quantity").hide();
    });
    </script>
  </body>
</html>